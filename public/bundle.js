!function(){var t={};(function(e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,a)}l((r=r.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};t.__esModule=!0;var a=u("undefined"!=typeof window?window.axios:void 0!==e?e.axios:null),l=function(){function t(){this.text="",this.curText="",this.char=null}return t.prototype.applyText=function(t){this.text+=this.curText,this.curText=t},t}(),s={},c={"\\char":function(t,e){return n(void 0,void 0,void 0,function(){return r(this,function(n){return e.length>1?t.state.char=e[1]:t.state.char=null,[2,!1]})})}};s["\\script"]=1,c["\\script"]=function(t,e){return n(void 0,void 0,void 0,function(){return r(this,function(n){return new Function(e[1]).call(t),[2,!1]})})};var f=function(){function t(t){this.cnt=0,this.cnt1=0,this.lst=[],this.lst1=[],this.gameName=t,this.state=new l}return t.prototype.load=function(t){return n(this,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return e=this,[4,a.default.post("/api/read",{gameName:this.gameName,sectionName:t})];case 1:return e.lst=n.sent().data.split("\n"),this.lst1=[],this.cnt=this.cnt1=0,[2]}})})},t.prototype.addLine=function(t){this.lst1.push(t)},t.prototype.nextLine=function(){if(this.cnt1<this.lst1.length)return this.lst1[this.cnt1++];if(this.cnt<this.lst.length)return this.lst[this.cnt++];throw"No more lines."},t.prototype.next=function(){return n(this,void 0,void 0,function(){var t,e,n,i;return r(this,function(r){switch(r.label){case 0:t=!1,r.label=1;case 1:return t?(e=this.nextLine()).startsWith("\\")?[3,2]:(this.state.applyText(e),[3,6]):[3,6];case 2:return(n=e.split(" "))[0]in c?(n[0]in s&&(i=s[n[0]],n=o(n.slice(0,i),[n.slice(i).join(" ")])),[4,c[n[0]](this,n.filter(Boolean))]):[3,4];case 3:return t=r.sent(),[3,5];case 4:throw"Unexpected token "+n[0];case 5:return[3,1];case 6:return[2]}})})},t}();t.default=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var e={};(function(n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,a)}l((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var l=u("undefined"!=typeof window?window.React:void 0!==n?n.React:null),s=a(t);e.default=function(){var t=o(l.useState(""),2),e=t[0],n=(t[1],l.useRef(null)),u=function(){return n.current?n.current:n.current=new s.default("test")};return l.useEffect(function(){r(void 0,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,(t=u()).load("start")];case 1:return e.sent(),[4,t.next()];case 2:return e.sent(),console.log(t.state),[2]}})})},[]),l.default.createElement("div",null,e)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var n={};(function(t){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};n.__esModule=!0;var i=r("undefined"!=typeof window?window.React:void 0!==t?t.React:null),o=r(e);ReactDOM.render(i.default.createElement(o.default,null),document.querySelector("#app"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}();